Patch by Robert Scheck <robert@fedoraproject.org> for z-push >= 1.5.6, that
changes the original paths from Z-Push upstream to Fedora compliant ones.

--- z-push-1.5.6/debug.php		2010-11-19 22:20:24.000000000 +0100
+++ z-push-1.5.6/debug.php.package	2011-12-11 23:34:15.000000000 +0100
@@ -57,7 +57,7 @@
 function debugLog($message) {
     global $auth_user;
     $user = (isset($auth_user))?"[". $auth_user ."] ":"";
-    @$fp = fopen(BASE_PATH . "/debug.txt","a");
+    @$fp = fopen("/var/lib/z-push/debug.txt","a");
     @$date = strftime("%x %X");
     @fwrite($fp, "$date [". getmypid() ."] ". $user . "$message\n");
     @fclose($fp);
--- z-push-1.5.6/config.php		2011-11-24 22:39:15.000000000 +0100
+++ z-push-1.5.6/config.php.package	2011-12-11 23:35:34.000000000 +0100
@@ -40,10 +40,8 @@
 *
 * Consult LICENSE file for details
 ************************************************/
-    // Defines the default time zone
-    if (function_exists("date_default_timezone_set")){
-        date_default_timezone_set("Europe/Amsterdam");
-    }
+    // Defines the default time zone, change e.g. to "Europe/London" if necessary
+    define('TIMEZONE', '');
 
     // Defines the base path on the server, terminated by a slash
     define('BASE_PATH', dirname($_SERVER['SCRIPT_FILENAME']) . "/");
@@ -57,7 +55,7 @@
                         "/usr/share/php5/" . PATH_SEPARATOR .
                         "/usr/share/pear/");
 
-    define('STATE_DIR', BASE_PATH.'/state');
+    define('STATE_DIR', '/var/lib/z-push/state');
 
     // Try to set unlimited timeout
     define('SCRIPT_TIMEOUT', 0);
@@ -96,16 +94,8 @@
     // a higher value if you have a high load on the server.
     define('PING_INTERVAL', 10);
 
-    // The data providers that we are using (see configuration below)
-    $BACKEND_PROVIDER = "BackendICS";
-
-    // ************************
-    //  BackendICS settings
-    // ************************
-
-    // Defines the server to which we want to connect
-    define('MAPI_SERVER', 'file:///var/run/zarafa');
-
+    // The data provider that we are using
+    $BACKEND_PROVIDER = "BackendIMAP";
 
     // ************************
     //  BackendIMAP settings
--- z-push-1.5.6/index.php		2011-08-04 19:32:40.000000000 +0200
+++ z-push-1.5.6/index.php.package	2011-12-11 23:35:57.000000000 +0100
@@ -53,6 +53,15 @@
 include_once("compat.php");
 include_once("version.php");
 
+// Set timezone, see https://developer.berlios.de/mantis/view.php?id=479
+if(function_exists("date_default_timezone_set")) {
+    if(defined('TIMEZONE') ? constant('TIMEZONE') : false) {
+        date_default_timezone_set(TIMEZONE);
+    } else if(!ini_get('date.timezone')) {
+        date_default_timezone_set('Europe/Amsterdam');
+    }
+}
+
 // Attempt to set maximum execution time
 ini_set('max_execution_time', SCRIPT_TIMEOUT);
 set_time_limit(SCRIPT_TIMEOUT);
